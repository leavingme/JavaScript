String.format=function(){if(arguments.length==0){return null}var c=arguments[0];for(var a=1;a<arguments.length;a++){var b=new RegExp("\\{"+(a-1)+"\\}","gm");c=c.replace(b,arguments[a])}return c};var Template=function(b,a){this.update(b)};Template.prototype={render_for_url:function(c,e){if(this._t){var a=this._t+"";var g=[];for(var b in c){var f=c[b];if(typeof f=="undefined"){f=""}var d=new RegExp("\\$\\{"+b+"\\}","ig");if(a.search(d)>-1){a=a.replace(d,f+"")}else{g.push(b+"="+f)}}g.push("_t="+new Date().getTime());if(a.indexOf("?")>-1){a+="&"+g.join("&")}else{a+="?"+g.join("&")}return a}},render_for_json:function(b){if(this._t){var d=this._t+"";for(var a in b){var e=b[a];if(typeof e=="undefined"){e=""}var c=new RegExp("\\$\\{"+a+"\\}","ig");d=d.replace(c,e+"")}return d}},update:function(){var d=[];var b=arguments;for(var c=0;c<b.length;c++){var a=b[c];if(a instanceof Array){d.push(a.join(""))}else{if(typeof a=="string"){d.push(a)}}}this._t=d.join("");return this}};Template.prototype.constructor=Template;
